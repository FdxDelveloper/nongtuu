{"version":3,"sources":["webpack:///webpack/bootstrap 16d584461da106b82c68","webpack:///external \"feathers\"","webpack:///./src/middleware/index.js","webpack:///./src/services/index.js","webpack:///./src/index.js","webpack:///./src/services/debug.js","webpack:///./src/services/graphql/index.js","webpack:///./src/services/graphql/resolvers.js","webpack:///./src/services/graphql/schemas/RootMutation.js","webpack:///./src/services/graphql/schemas/index.js","webpack:///./src/services/graphql/schemas/post.js","webpack:///./src/services/graphql/schemas/user.js","webpack:///./src/services/line.js","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///external \"cors\"","webpack:///external \"feathers-errors/handler\"","webpack:///external \"feathers-hooks\"","webpack:///external \"feathers-memory\"","webpack:///external \"feathers-rest\"","webpack:///external \"feathers-socketio\"","webpack:///external \"feathers-sync\"","webpack:///external \"graphql-server-express\"","webpack:///external \"graphql-tools\"","webpack:///external \"request-promise-native\""],"names":["middlewares","use","json","urlencoded","extended","configure","services","app","console","log","process","env","NODE_ENV","listen","PORT","debug","DebugService","find","Promise","resolve","data","get","executableSchema","typeDefs","resolvers","call","req","feathers","token","provider","schema","context","endpointURL","Resolvers","mockService","_id","sanitize","input","replace","Posts","service","userArray","username","firstName","lastName","Users","create","commentArray","content","Comments","Viewer","User","posts","user","args","query","authorId","Post","comments","post","limit","postId","author","Comment","comment","AuthPayload","auth","RootQuery","viewer","root","then","users","authors","category","RootMutation","signUp","logIn","password","Math","random","toString","createPost","createComment","removePost","remove","removeComment","graphql","type","Schema","CHANNEL_TOKEN","TEST_USER_ID","defaultAction","label","defaultImage","LineMessaging","endpoint","body","method","uri","headers","JSON","stringify","message","to","messages","Array","isArray","map","text","sendMessage","url","originalContentUrl","previewImageUrl","title","alt","thumbnail","actions","altText","template","thumbnailImageUrl","scripts","bot","ChatStage","initChat","sendTemplate","id","REPLY","gotLawsuit","e","msg","m","length","JOKES","JOKE_REPLY","suggestLawyer","setTimeout","WebHookHandler","events","forEach","source","userId","match","sendText","sendImage","nomoney","policetookmycar","paparazzis","floor","choice","postback","res","next","status"],"mappings":"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","file":"build/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 16d584461da106b82c68","module.exports = require(\"feathers\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers\"\n// module id = 0\n// module chunks = 0","import feathers from \"feathers\"\nimport hooks from \"feathers-hooks\"\nimport rest from \"feathers-rest\"\nimport socketio from \"feathers-socketio\"\nimport sync from \"feathers-sync\"\nimport errorHandler from \"feathers-errors/handler\"\n\nimport cors from \"cors\"\nimport cookieParser from \"cookie-parser\"\nimport bodyParser from \"body-parser\"\n\nexport default function middlewares() {\n  this.use(bodyParser.json())\n  this.use(bodyParser.urlencoded({extended: true}))\n  this.use(cookieParser())\n  this.use(cors())\n\n  this.configure(hooks())\n  this.configure(rest())\n  this.configure(socketio())\n\n  this.use(errorHandler())\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/index.js","import debug from \"./debug\"\nimport line from \"./line\"\nimport graphql from \"./graphql\"\n\nexport default function services() {\n  this.configure(debug)\n  this.configure(line)\n  this.configure(graphql)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/index.js","import feathers from \"feathers\"\n\nimport middleware from \"./middleware\"\nimport services from \"./services\"\n\nconst app = feathers()\n\napp.configure(middleware)\napp.configure(services)\n\nconsole.log(\"info\", process.env.NODE_ENV)\n\napp.listen(process.env.PORT || \"3000\")\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","class DebugService {\n  setup(app) {\n    this.app = app\n  }\n\n  find = () => Promise.resolve({data: \"Debug. Hello world!\"})\n\n  get = () => Promise.resolve({data: \"Hello World\"})\n}\n\nexport default function debug() {\n  this.use(\"debug\", new DebugService())\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/debug.js","import {graphqlExpress, graphiqlExpress} from \"graphql-server-express\"\nimport {makeExecutableSchema, addMockFunctionsToSchema} from \"graphql-tools\"\n\nimport Resolvers from \"./resolvers\"\nimport Schema from \"./schemas\"\n\nexport default function() {\n  const app = this\n\n  const executableSchema = makeExecutableSchema({\n    typeDefs: Schema,\n    resolvers: Resolvers.call(app)\n  })\n\n  app.use(\"/graph\", graphqlExpress(req => {\n    const {token, provider} = req.feathers\n    return {\n      schema: executableSchema,\n      context: {token, provider}\n    }\n  }))\n\n  app.use(\"/graphiql\", graphiqlExpress({\n    endpointURL: \"/graph\"\n  }))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/graphql/index.js","const mockService = {\n  find: () => ([{_id: 0}])\n}\n\nconst sanitize = input => (\n  input\n    .replace(\"fuck\", \"****\")\n    .replace(\"putang\", \"******\")\n    .replace(\"ina mo\", \"*** **\")\n)\n\nexport default function Resolvers() {\n  const app = this\n\n  const Posts = app.service(\"debug\")\n\n  const userArray = [{\n    _id: 0,\n    username: \"phoomparin\",\n    firstName: \"Phoomparin\",\n    lastName: \"Mano\"\n  }]\n  const Users = {\n\n    find: () => (userArray),\n    get: data => (userArray[0]),\n    create: data => ({_id: 0, ...data})\n  }\n\n  const commentArray = [{\n    _id: 0,\n    content: \"Ayyyyyyyyyyyyyyyyyyyyyy Lmaooooooooooooooo\"\n  }]\n\n  const Comments = {\n    find: () => (commentArray),\n    get: () => (commentArray[0])\n  }\n\n  const Viewer = mockService\n\n  return {\n    User: {\n      posts(user, args, context) {\n        return Posts.find({\n          query: {\n            authorId: user._id\n          }\n        })\n      }\n    },\n    Post: {\n      comments(post, {limit}, context) {\n        return Comments.find({\n          query: {\n            postId: post._id\n          }\n        })\n      },\n      author(post, args, context) {\n        return Users.get(post.authorId)\n      }\n    },\n    Comment: {\n      author(comment, args, context) {\n        return Users.get(comment.authorId)\n      }\n    },\n    AuthPayload: {\n      data(auth, args, context) {\n        return auth.data\n      }\n    },\n    RootQuery: {\n      viewer(root, args, context) {\n        return Viewer.find(context)\n      },\n      author(root, {username}, context) {\n        return Users.find({\n          query: {\n            username\n          }\n        }).then(users => users[0])\n      },\n      authors(root, args, context) {\n        return Users.find({})\n      },\n      posts(root, {category}, context) {\n        return Posts.find({\n          query: {\n            category\n          }\n        })\n      },\n      post(root, {_id}, context) {\n        return Posts.get(_id)\n      }\n    },\n\n    RootMutation: {\n      signUp(root, args, context) {\n        return Users.create(args)\n      },\n      logIn(root, {username, password}, context) {\n        return {token: Math.random().toString(36).replace(/[^a-z]+/g, \"\")}\n      },\n      createPost(root, {post}, context) {\n        return Posts.create(post, context)\n      },\n      createComment(root, args, context) {\n        return Comments.create(args, context)\n      },\n      removePost(root, {_id}, context) {\n        return Posts.remove(_id, context)\n      },\n      removeComment(root, {_id}, context) {\n        return Comments.remove(_id, context)\n      }\n    }\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/graphql/resolvers.js","const graphql = type => (type[0])\n\nexport default graphql`\n\ntype RootMutation {\n  signUp (\n    username: String!\n    password: String!\n    firstName: String\n    lastName: String\n  ): User\n\n  logIn (\n    username: String!\n    password: String!\n  ): AuthPayload\n\n  createPost (\n    post: postInput\n  ): Post\n\n  removePost (\n    _id: String! # _id of post to remove\n  ): Post\n\n  createComment (\n    postId: String!\n    content: String!\n  ): Comment\n\n  removeComment (\n    _id: String! # _id of comment to remove\n  ): Comment\n}\n\n`\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/graphql/schemas/RootMutation.js","import User from \"./user\"\nimport Post from \"./post\"\nimport RootMutation from \"./RootMutation\"\n\nconst graphql = type => (type[0])\n\nconst Schema = graphql`\n\ntype RootQuery {\n  viewer: User\n  author(username: String!): User\n  authors: [User]\n  posts(category: Category): [Post]\n  post(_id: String!) : Post\n}\n\nschema {\n  query: RootQuery\n  mutation: RootMutation\n}\n\n`\n\nexport default [User, Post, RootMutation, Schema]\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/graphql/schemas/index.js","const graphql = type => (type[0])\n\nexport default graphql`\n\nenum Category {\n  MEMES\n  TECHNOLOGY\n  OTHER\n}\n\ninput postInput {\n  title: String!\n  content: String!\n  summary: String\n  category: Category\n}\n\ntype Post {\n  _id: String!\n  title: String\n  category: String\n  summary: String\n  content: String!\n  createdAt: String\n  comments(limit: Int): [Comment]\n  author: User\n}\n\ntype Comment {\n  _id: String!\n  content: String!\n  author: User\n  createdAt: String\n}\n\n`\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/graphql/schemas/post.js","const graphql = type => (type[0])\n\nexport default graphql`\n\n# Stores data about the User's Account.\ntype User {\n  _id: String! # the ! means that every author object _must_ have an id\n\n  # First Name of the User\n  firstName: String\n\n  # Last name of the User\n  lastName: String\n\n  # Username is Required!\n  username: String!\n\n  # Posts by this user\n  posts: [Post] # the list of Posts by this author\n}\n\ntype AuthPayload {\n  token: String # JSON Web Token\n  data: User\n}\n\n`\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/graphql/schemas/user.js","import MemoryService from \"feathers-memory\"\nimport request from \"request-promise-native\"\n\n// API \"Secrets\". Feel free to steal them. I don't give a single F.\n// TODO: Move that to Environment Variables, but I ain't got no time\n\nconst CHANNEL_TOKEN = \"UuQd6RmSRQppG/0g6xc4Xh9GVigTR0/CqBV7afFJpYbRoMp0TGP00T1UNbEZmeDgM5VMEYF+ucWkGJwHwVoQP0cGzhAeg0RCToj8c2Pk2qCZI1/wkh6tTWlOtt9uFIMwKiqj5N/3bTCjfII3HQki3QdB04t89/1O/w1cDnyilFU=\"\nconst TEST_USER_ID = \"U33084216cc1a00f7aa27632bec769356\"\n\n// SDK for interfacing with the LINE Messaging API\n// NOTE: Why the heck are the Official SDKs deprecated? Like, seriously dude? -.-\n\nconst defaultAction = [{\n  type: \"postback\",\n  label: \"หนี้บัตรเครดิต\",\n  data: \"action=buy&itemid=123\"\n}, {\n  type: \"postback\",\n  label: \"กฎหมายที่ดิน\",\n  data: \"action=add&itemid=123\"\n}]\n\nconst defaultImage = `https://images.unsplash.com/reserve/uvRBqDAfQfaGPJiI6lVS_R0001899.jpg?dpr=1&auto=format&fit=crop&w=1500&h=994&q=80&cs=tinysrgb&crop=`\n\nclass LineMessaging {\n\n  constructor(token) {\n    this.token = token;\n  }\n\n  post(endpoint, body) {\n    request({\n      method: \"POST\",\n      uri: `https://api.line.me/v2/bot/${endpoint}`,\n      headers: {\"Content-Type\": \"application/json\"},\n      body: JSON.stringify(body)\n    }).auth(null, null, true, this.token)\n  }\n\n  sendMessage(message, to = TEST_USER_ID) {\n    this.post(\"message/push\", {to, messages: [message]})\n  }\n\n  sendText(message, to) {\n    if (Array.isArray(message)) {\n      this.post(\"message/push\", {\n        to,\n        messages: message.map(text => ({type: \"text\", text}))\n      })\n    } else {\n      this.sendMessage({\n        type: \"text\",\n        text: `${message}`\n      }, to)\n    }\n  }\n\n  sendImage(url, to) {\n    this.sendMessage({\n      type: \"image\",\n      originalContentUrl: url,\n      previewImageUrl: `https://api.rethumb.com/v1/square/240/${url}`\n    }, to)\n  }\n\n  sendTemplate({\n    title, text, alt = \"This is an alt text\", thumbnail = defaultImage,\n    actions = defaultAction\n  }, to) {\n    this.sendMessage({\n      type: \"template\",\n      altText: alt,\n      template: {\n        type: \"buttons\",\n        thumbnailImageUrl: thumbnail,\n        title,\n        text,\n        actions\n      },\n    }, to)\n  }\n\n}\n\nconst scripts = {\n  \"main\": {}\n}\n\nconst bot = new LineMessaging(CHANNEL_TOKEN)\n\nclass ChatStage extends MemoryService {\n  // TODO: We need to store user's state in there.\n  //       I'm thinking of Redis, but fuck it I'm tired.\n  //       It's a hackathon, so yeah.\n}\n\nconst initChat = id => {\n  bot.sendTemplate({\n    title: \"สวัสดีครับ มีอะไรให้ปรึกษาไหมครับ? 😊 👊\",\n    text: \"นี่เป็นเคสที่พบบ่อย ถ้าสงสัยนอกเหนือจากนี้ถามได้เลยนะครับ\",\n    alt: \"Alt Message\",\n    thumbnail: \"https://i.imgur.com/s4c7YSH.jpg\",\n    actions: [{\n      type: \"postback\",\n      label: \"หนี้บัตรเครดิต 💳\",\n      data: \"nomoney\"\n    }, {\n      type: \"postback\",\n      label: \"ได้หมายศาล ⚖️\",\n      data: \"lawsuit\"\n    }, {\n      type: \"postback\",\n      label: \"โดนตำรวจยึดรถ 🚗\",\n      data: \"policetookmycar\"\n    }, {\n      type: \"postback\",\n      label: \"ถูกแอบถ่ายลงโซเชียล 📷\",\n      data: \"paparazzis\"\n    }]\n  }, id)\n}\n\nconst REPLY = {\n  \"nomoney\": [`ใจเย็นๆ ไปตามศาลนัด คุยกับทนายของธนาคารเจ้าของบัตร เพื่อดูข้อเสนอของธนาคารก่อนนะ 😉`,\n  `ถ้าเราไม่ไหว ลองต่อรองเพื่อเลื่อนวันจ่ายเงิน หลังจากนั้นทางศาลจะให้เซ็นสัญญาเลื่อนวันนัดคดี แล้วกลับบ้านได้เลย! 😊`,\n  `แต่ถ้าเราไหว เตรียมเอกสารแสดงรายได้ แล้วก็ตกลงกับธนาคารเพื่อผ่อนชำระตามรายได้ที่มี แค่นั้นเอง~`,\n  `ถ้าทางธนาคารเค้ารับได้ก็เสร็จสิ้น แต่ถ้าไม่ก็ต้องยอมทำตามคำตัดสินของศาลล่ะนะ 👊`],\n\n  \"policetookmycar\": [\n    `ถ้ารถเรายังผ่อนไม่หมด ก็ไปติดต่อไฟแนนซ์ให้เค้าทำเรื่องเพื่อขอคืน 😶`,\n    `แต่ถ้าเราผ่อนหมดแล้ว ก็ไปยื่นคำร้องต่อศาลภายใน 1 ปี ไม่อย่างนั้นจะขึ้นว่าสูญหายนะ 😉`\n  ],\n\n  \"paparazzis\": `ใจเย็นๆ ก่อน รีบรวบรวมหลักฐานที่ชัดเจน แล้วไปเข้าแจ้งความกับตำรวจนะ 😊`,\n\n  \"P1\": `ถ้าเป็นหมายเรียกและสำเนาคำฟ้อง หรือ หมายเรียกคดีแพ่งสามัญ\nต่อทำการคำให้การยื่นต่อศาลภายใกำหนด 15 วัน นับตั้งแต่วันที่ได้รับหมาย`,\n\n  \"P2\": [\n    `หมายเรียกคดีไม่มีข้อยุ่งยาก หรือ หมายเรียคดีมโนสาเหร่`,\n    `คดีมโนสาเหร่ คือ คดีที่ฟ้องร้องกันโดยมีทุนทรัพย์ไม่เกิน 40,000 บาท`,\n    `เช่น ฟ้องไล่ออกจากอสังหาริมทรัพย์ ที่มีค่าเช่าขณะยื่นฟ้องไม่เกินเดือนล่ะ 4,000`,\n    `จำเลยต้องมาศาลตามวันนัดเพื่อไกล่เกลี่ย`\n  ],\n\n  \"A1\": [\n    `เมื่อได้รับหมายนัด ต้องดูรายละเอียดว่าศาลกำหนดวันนัดไต่สวนมูลฟ้องวันใด ⚖️`,\n    `ถ้าจะต่อสู้คดีต้องปรึกษาทนายความทันที เพื่อจะทำหนังสือแต่งตั้งให้ทนายไปทำการซักค้านพยานโจทก์ในวันนัดไต่สวนมูลฟ้องแทน`,\n    `ในวันนัดไต่สวนมูลฟ้อง จำเลยไม่จำเป็นต้องไปศาลก็ได้ 😉`\n  ],\n\n  \"A2\": [\n    `หมายเรียกพยานบุคคล เมื่อได้รับหมายจะต้องไปศาลตามวันและเวลาที่กำหนดไว้ในหมาย เพื่อเบิกความเป็นพยานต่อศาล ⚖️`,\n    `หากขัดขืนไม่ไปศาลตามกำหนด ศาลอาจออกหมายจับเอาตัวกักขังได้ และอาจถูกฟ้องได้ 😮`\n  ]\n}\n\nconst gotLawsuit = id => {\n  bot.sendTemplate({\n    title: \"คุณได้หมายศาลประเภทแพ่ง หรืออาญาครับ?\",\n    text: \"เราจะช่วยคุณแน่ๆ ครับ แต่รบกวนตอบคำถามก่อนนะครับ 🙂\",\n    actions: [{\n      type: \"postback\",\n      label: \"ประเภทคดีแพ่ง ⚖️\",\n      data: \"RektP\"\n    }, {\n      type: \"postback\",\n      label: \"ประเภทคดีอาญา 🔪\",\n      data: \"RektA\"\n    }]\n  }, id)\n}\n\nconst e = (msg, m = 1) => {\n  if (msg) {\n    if (msg.length > m) {\n      return true\n    }\n  }\n  return false\n}\n\nconst JOKES = [\n  \"ร้อยปีที่แล้วนี่เขาเล่น April Fools Day กันแรงเนาะ 🙄\",\n  \"ตะมุตะมิ 😉\",\n  \"เดี๋ยวทุ่มด้วยโพเดี้ยม 🙄\",\n  \"ปั๊ดโธ่ววววววววว 🙄\"\n]\n\nconst JOKE_REPLY = {\n  \"เมื่อไรจะออก\": \"คนไทยฝากอนาคตไว้กับผม ได้ยินทีไรน้ำตาไหลทุกที 😉\",\n  \"ควย\": \"เดี่ยวทุมด้วยโพเดี้ยมหรอก ปัทโธ่ 🙄\",\n  \"เจอได้นะตู่\": \"ถ้าเบื่อผมก็เปลี่ยนช่อง 🙄\",\n  \"เห็บหมา\": \"เอาไปขายที่ดาวอังคาร ขายได้ราคาดี 🙄\",\n  \"เบื่อตู่\": \"ไหนใครมีปัญหาอะไร ไปคุยกันที่ค่าย 😉\",\n  \"ต้องการประชาธิปไตย\": \"ไม่ออก ใครจะออก ผมไม่ออก 🙄\",\n  \"คสช คือไร\": \"ทหารตอบได้ ถามป่าว 😉\",\n  \"ตะมุตะมิ\": \"ผมเพื่อนเล่นคุณเหรอ ทุเรียน 🙄\",\n  \"ประเทศนี้ของใคร\": \"ของผมจบปิ้ง 😉\",\n  \"สวัสดีลุง\": \"เอากองไว้ตรงนั้นแหละ ไม่ได้มีความสำคัญอะไร 😉\",\n  \"นอนก่อน\": \"เจริญพร ชิตังเม โป้ง รวยๆ 😉\"\n}\n\n/*\n  Object.keys(o).forEach(e => {\n    if (\"namelol\".match(e)) {\n      console.log(\"WTF\")\n    }\n  })\n*/\n\nconst suggestLawyer = id => {\n  setTimeout(() => {\n    bot.sendTemplate({\n      title: \"คุณต้องการรับคำปรึกษาจากทนายฟรีไหมครับ 😊\",\n      text: \"คดีของคุณต้องใช้ทนายความ และเราจะช่วยคุณให้ถึงที่สุดครับ 😊\",\n      thumbnail: \"https://i.imgur.com/ZSifg3o.jpg\",\n      actions: [{\n        type: \"postback\",\n        label: \"หาทนายให้หน่อยสิ 👍\",\n        data: \"getlawyer\"\n      }, {\n        type: \"postback\",\n        label: \"ไม่ 🚫\",\n        data: \"noneed\"\n      }]\n    }, id)\n  }, 800)\n}\n\nclass WebHookHandler {\n  find = () => Promise.resolve({data: \"OK v4\"})\n\n  create = (data = {}) => {\n    console.log(\"Incoming POST request:\", JSON.stringify(data))\n\n    // bot.sendText(`Incoming Msg: ${JSON.stringify(data)}`)\n\n    if (data.events) {\n      data.events.forEach(msg => {\n        const id = msg.source.userId\n\n        if (msg.type === \"message\") {\n          const text = msg.message.text\n\n          if (e(text.match(/บัตร|ประชา/g))) {\n            bot.sendText(`เอกสารที่ต้องเตรียม คือ บัตรที่สามารถใช้ยืนยันตัวตนที่หน่วยงานของรัฐออกให้ หรือสำเนาทะเบียนบ้าน 😄`, id)\n            // bot.sendImage(`https://i.imgur.com/z8C0ESs.jpg`, id)\n          } else if (e(text.match(/ทำ|พาสปอร์ต|Passport/gi))) {\n            bot.sendText(`จองคิวและดูวิธีการทำพาสปอร์ตที่ https://www.passport.in.th 😄`, id)\n            bot.sendImage(`https://i.imgur.com/VRItpao.jpg`, id)\n          } else if (text.match(/หมายศาล/g)) {\n            gotLawsuit(id)\n          } else if (text.match(/บ้านรุกล้ำ/g)) {\n            bot.sendText([\n              `เจ้าของที่ดินมีสิทธิเอาคืนที่ดินจากเพื่อนบ้านที่รุกล้ำเข้ามาโดยไม่มีสิทธิ 💡 (ป.พ.พ. มาตรา 1336)`,\n              `ต้องเรียกให้เพื่อนบ้านรื้อถอนส่วนที่รุกล้ำ แล้วทำที่ดินให้เป็นตามเดิม ผู้สร้างช่วยออกค่าใช้จ่ายได้ 😉 (ป.พ.พ. มาตรา 1312 วรรค 2)`\n            ], id)\n          } else if (text.match(/หนี้บัตรเครดิต/g)) {\n            bot.sendText(REPLY.nomoney, id)\n          } else if (text.match(/ตำรวจยึดรถ/g)) {\n            bot.sendText(REPLY.policetookmycar, id)\n          } else if (text.match(/แอบถ่าย/g)) {\n            bot.sendText(REPLY.paparazzis, id)\n          } else if (text.match(/ขอบคุณ|thank/gi)) {\n            bot.sendText(`ขอบคุณมากครับ ปีหน้าให้ผมเป็นนายกต่อด้วยนะ 😉`, id)\n          } else if (text.match(/Never Gonna Give You Up/gi)) {\n            bot.sendText(`Never Gonna Let You Down~! 😉`, id)\n          } else if (text.match(/แบบฟอร์มศาล/)) {\n            bot.sendText(`ดาวน์โหลดแบบฟอร์มศาลได้ที่ http://www.chawbanlaw.com/form_download.html นะครับ~! 😉`, id)\n          } else if (JOKE_REPLY[text]) {\n            bot.sendText(JOKE_REPLY[text], id)\n          } else if (text.match(/สวัสดี|หวัดดี|Hello|Hey|Hi|Yo/gi)) {\n            initChat(id)\n          } else {\n            bot.sendText(JOKES[Math.floor(Math.random() * JOKES.length)], id)\n          }\n        }\n\n        if (msg.type === \"follow\") {\n          // User added you as a friend\n          initChat(id)\n        }\n\n        if (msg.type === \"postback\") {\n          const choice = msg.postback.data\n\n          if (REPLY[choice]) {\n            bot.sendText(REPLY[choice], id)\n\n            if (choice.match(/P1|P2|A1|A2/g)) {\n              suggestLawyer(id)\n            }\n          }\n\n          if (choice === \"getlawyer\") {\n            bot.sendText(`ทนายความของเรากำลังจะติดต่อไปหาท่าน ขอให้ท่านชนะคดีนะครับ 😄`, id)\n          }\n\n          if (choice === \"lawsuit\") {\n            gotLawsuit(id)\n          }\n\n          if (choice === \"RektP\") {\n            bot.sendTemplate({\n              title: \"รบกวนบอกประเภทของหมายศาลคดีแพ่งด้วยครับ ✌️\",\n              text: \"....\",\n              actions: [{\n                type: \"postback\",\n                label: \"หมายเรียกคดีแพ่งสามัญ\",\n                data: \"P1\"\n              }, {\n                type: \"postback\",\n                label: \"หมายเรียกคดีมโนสาเหร่\",\n                data: \"P2\"\n              }]\n            }, id)\n          }\n\n          if (choice === \"RektA\") {\n            bot.sendTemplate({\n              title: \"รบกวนบอกประเภทของหมายศาลคดีอาญาด้วยครับ ✌️\",\n              text: \"....\",\n              actions: [{\n                type: \"postback\",\n                label: \"หมายนัดไต่สวนมูลฟ้อง\",\n                data: \"A1\"\n              }, {\n                type: \"postback\",\n                label: \"หมายเรียกพยานบุคคล\",\n                data: \"A2\"\n              }]\n            }, id)\n          }\n\n        }\n      })\n    }\n\n    return Promise.resolve({data: \"200\"})\n  }\n}\n\nexport default function debug() {\n  this.use(\"linehook\", new WebHookHandler(), (req, res, next) => {\n    res.status(200)\n    next()\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/line.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"feathers-errors/handler\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-errors/handler\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"feathers-hooks\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-hooks\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"feathers-memory\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-memory\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"feathers-rest\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-rest\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"feathers-socketio\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-socketio\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"feathers-sync\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-sync\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"graphql-server-express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"graphql-server-express\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"graphql-tools\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"graphql-tools\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"request-promise-native\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"request-promise-native\"\n// module id = 23\n// module chunks = 0"],"sourceRoot":""}